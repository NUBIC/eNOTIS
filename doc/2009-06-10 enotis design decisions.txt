2009-06-10 enotis design decisions (in office)
brian, david, mark

reggie stopped by:
should we allow imports/adds at any time (warn? disallow? possible to switch on/off?)
what should we do with super secret pharma protocols to hide their privates?

# Assumptions

IRB does not change
System cannot add patients to NOTIS monitored protocol
Reserve MRN lookup is ok
Accrual Reporting (MRN?)

# Patients

EDW connected - we're ok
EDW not connected - we're screwed (we have to reconcile data)

find global - add pt
find local - show pt
find external (edw) -

# Protocols

eIRB connected - we're ok
eIRB not connnected - you're screwed (you can't accrue patients)

find global - show protocol (refresh status), add_pt
find local - list protocols (caveat - "as of x date/time")
find external (eirb) -

# Find

space/where/area/span/reach/realm => global/local/external
global find - "freshness"

by unique - look local, return if found and fresh, look external and return/update || nil
by attrs - look external, return array

create join - look local if fresh

# when to create records?

upon find - create N orphans, hit service once
upon join - create 0 orphans, hit service twice (we're going with this one)

